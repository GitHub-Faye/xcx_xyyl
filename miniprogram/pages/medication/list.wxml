<view class="container">
  <view class="page-header">
    <view class="page-title">药物提醒</view>
    <view class="add-btn" bindtap="navigateToAdd">
      <text class="iconfont icon-add">+</text>
    </view>
  </view>
  
  <view class="reminder-list" wx:if="{{!loading && reminders.length > 0}}">
    <view class="reminder-card" 
          wx:for="{{reminders}}" 
          wx:key="id"
          bindtap="navigateToDetail"
          data-id="{{item.id}}">
      <view class="reminder-header">
        <view class="reminder-name">{{item.name}}</view>
        <view class="reminder-toggle" catchtap="toggleReminder" data-id="{{item.id}}" data-active="{{item.is_active}}">
          <switch checked="{{item.is_active}}" color="#1aad19" />
        </view>
      </view>
      
      <view class="reminder-info">
        <view class="reminder-times">
          <text class="icon-time">⏰</text>
          <block wx:for="{{item.times.split(',')}}" wx:for-item="time" wx:key="*this">
            <text class="time-tag">{{time}}</text>
          </block>
        </view>
        
        <view class="reminder-frequency">
          <text class="icon-calendar">📅</text>
          <text wx:if="{{item.frequency === 'daily'}}">每天</text>
          <text wx:elif="{{item.frequency === 'weekly'}}">
            每周
            <block wx:for="{{item.weekdays.split(',')}}" wx:for-item="day" wx:key="*this">
              {{['日', '一', '二', '三', '四', '五', '六'][day]}}
            </block>
          </text>
          <text wx:elif="{{item.frequency === 'monthly'}}">
            每月 {{item.month_days.replace(/,/g, '日、')}}日
          </text>
          <text wx:elif="{{item.frequency === 'custom'}}">
            每{{item.custom_interval}}天
          </text>
        </view>
      </view>
      
      <view class="reminder-description" wx:if="{{item.description}}">
        {{item.description}}
      </view>
    </view>
  </view>
  
  <view class="empty-state" wx:if="{{!loading && reminders.length === 0}}">
    <view class="empty-image">📋</view>
    <view class="empty-text">您还没有添加药物提醒</view>
    <button class="btn-primary" bindtap="navigateToAdd">添加药物提醒</button>
  </view>
  
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <view class="loading-text">加载中...</view>
  </view>
</view> 