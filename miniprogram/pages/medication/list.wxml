<view class="container {{themeVars}}">
  <view class="page-header">
    <view class="page-title">è¯ç‰©æé†’</view>
    <view class="add-btn" bindtap="navigateToAdd">
      <text class="iconfont icon-add">+</text>
    </view>
  </view>
  
  <view class="reminder-list" wx:if="{{!loading && reminders.length > 0}}">
    <view class="reminder-card" 
          wx:for="{{reminders}}" 
          wx:key="id"
          bindtap="navigateToDetail"
          data-id="{{item.id}}">
      <view class="reminder-header">
        <view class="reminder-name">{{item.name}}</view>
        <view class="reminder-toggle" catchtap="toggleReminder" data-id="{{item.id}}" data-active="{{item.is_active}}">
          <switch checked="{{item.is_active}}" color="#1aad19" />
        </view>
      </view>
      
      <view class="reminder-info">
        <view class="reminder-times">
          <text class="icon-time">â°</text>
          <block wx:for="{{item.times.split(',')}}" wx:for-item="time" wx:key="*this">
            <text class="time-tag">{{time}}</text>
          </block>
        </view>
        
        <view class="reminder-frequency">
          <text class="icon-calendar">ğŸ“…</text>
          <text wx:if="{{item.frequency === 'daily'}}">æ¯å¤©</text>
          <text wx:elif="{{item.frequency === 'weekly'}}">
            æ¯å‘¨
            <block wx:for="{{item.weekdays.split(',')}}" wx:for-item="day" wx:key="*this">
              {{['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'][day]}}
            </block>
          </text>
          <text wx:elif="{{item.frequency === 'monthly'}}">
            æ¯æœˆ {{item.month_days.replace(/,/g, 'æ—¥ã€')}}æ—¥
          </text>
          <text wx:elif="{{item.frequency === 'custom'}}">
            æ¯{{item.custom_interval}}å¤©
          </text>
        </view>
      </view>
      
      <view class="reminder-description" wx:if="{{item.description}}">
        {{item.description}}
      </view>
    </view>
  </view>
  
  <!-- ä½¿ç”¨ç”¨æ—¶æ³¨å…¥çš„ç»„ä»¶ -->
  <!-- ç©ºçŠ¶æ€ç»„ä»¶ - ä»…åœ¨éœ€è¦æ—¶æ‰ä¼šè¢«æ³¨å…¥å’Œæ¸²æŸ“ -->
  <empty-state wx:if="{{$emptyState}}"
               id="emptyState"
               icon="{{$emptyState.icon}}"
               title="{{$emptyState.title}}"
               message="{{$emptyState.message}}"
               type="{{$emptyState.type}}"
               actionText="{{$emptyState.actionText}}"
               bind:action="handleEmptyStateAction" />
  
  <!-- Toastç»„ä»¶ - ä»…åœ¨éœ€è¦æ—¶æ‰ä¼šè¢«æ³¨å…¥å’Œæ¸²æŸ“ -->
  <toast wx:if="{{$toast}}"
         id="toast"
         type="{{$toast.type}}"
         message="{{$toast.message}}"
         duration="{{$toast.duration}}" />
  
  <!-- Loadingç»„ä»¶ - ä»…åœ¨éœ€è¦æ—¶æ‰ä¼šè¢«æ³¨å…¥å’Œæ¸²æŸ“ -->
  <loading-indicator wx:if="{{$loading}}"
                    id="loading"
                    title="{{$loading.title}}" />
  
  <!-- Modalç»„ä»¶ - ä»…åœ¨éœ€è¦æ—¶æ‰ä¼šè¢«æ³¨å…¥å’Œæ¸²æŸ“ -->
  <modal wx:if="{{$modal}}"
         id="modal"
         title="{{$modal.title}}"
         content="{{$modal.content}}"
         showCancel="{{$modal.showCancel}}"
         cancelText="{{$modal.cancelText}}"
         confirmText="{{$modal.confirmText}}"
         bind:action="handleModalAction" />
  
  <!-- åŠ è½½ä¸­çŠ¶æ€ - é™æ€æ¸²æŸ“ -->
  <view class="native-loading-state" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>
</view> 