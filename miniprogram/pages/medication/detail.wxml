<view class="container">
  <view class="detail-card">
    <view class="card-header">
      <view class="medication-name">{{reminder.name}}</view>
      <view class="status-indicator {{reminder.is_active ? 'active' : 'inactive'}}">
        {{reminder.is_active ? '已启用' : '已停用'}}
      </view>
    </view>
    
    <view class="info-section">
      <view class="info-item">
        <view class="info-label">服药时间</view>
        <view class="info-content times-list">
          <text class="time-item" wx:for="{{reminder.times.split(',')}}" wx:key="*this">{{item}}</text>
        </view>
      </view>
      
      <view class="info-item">
        <view class="info-label">服药频率</view>
        <view class="info-content">
          <text wx:if="{{reminder.frequency === 'daily'}}">每天</text>
          <text wx:elif="{{reminder.frequency === 'weekly'}}">
            每周
            <block wx:for="{{reminder.weekdays.split(',')}}" wx:for-item="day" wx:key="*this">
              {{['日', '一', '二', '三', '四', '五', '六'][day]}}
            </block>
          </text>
          <text wx:elif="{{reminder.frequency === 'monthly'}}">
            每月 {{reminder.month_days.split(',').join('日、')}}日
          </text>
          <text wx:elif="{{reminder.frequency === 'custom'}}">
            每{{reminder.custom_interval}}天
          </text>
        </view>
      </view>
      
      <view class="info-item" wx:if="{{reminder.description}}">
        <view class="info-label">备注说明</view>
        <view class="info-content">{{reminder.description}}</view>
      </view>
      
      <view class="info-item" wx:if="{{reminder.end_date}}">
        <view class="info-label">结束日期</view>
        <view class="info-content">{{reminder.end_date}}</view>
      </view>
    </view>
  </view>
  
  <view class="action-buttons">
    <button class="btn-primary" bindtap="toggleReminder">
      {{reminder.is_active ? '停用提醒' : '启用提醒'}}
    </button>
    <button class="btn-edit" bindtap="editReminder">编辑</button>
    <button class="btn-delete" bindtap="deleteReminder">删除</button>
  </view>
  
  <!-- 加载中状态 -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <view class="loading-text">加载中...</view>
  </view>
  
  <!-- 错误状态 -->
  <view class="error-state" wx:if="{{error}}">
    <view class="error-icon">❌</view>
    <view class="error-text">{{errorMessage || '加载失败'}}</view>
    <button class="retry-btn" bindtap="loadReminderDetail">重试</button>
  </view>
</view> 