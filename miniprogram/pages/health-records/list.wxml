<!-- хБех║╖шо░х╜ХхИЧшбищб╡ -->
<view class="container">
  <!-- щб╡щЭвщб╢щГиц╖╗хКацХ░цНоцМЙщТо -->
  <view class="top-header">
    <view class="page-title">хБех║╖шо░х╜Х</view>
    <button class="add-data-btn" bindtap="navigateToAdd">ц╖╗хКацХ░цНо</button>
  </view>

  <!-- хМ┐хРНцибх╝Пф╕ЛцШ╛чд║чЩ╗х╜ХцПРчд║я╝Мчз╗хКихИ░цЬАф╕КцЦ╣я╝Мчз╗щЩдчЩ╗х╜ХцМЙщТо -->
  <view class="login-tip-card" wx:if="{{isAnonymousMode}}">
    <icon type="info" size="16" color="#1989fa"></icon>
    <view class="login-tip-text">чЩ╗х╜ХхРОхПпхРМцнецХ░цНошЗ│ф║Счлпя╝Мчбоф┐ЭцХ░цНохоЙхЕи</view>
    <button class="login-now-btn" bindtap="goToLogin">члЛхН│чЩ╗х╜Х</button>
  </view>

  <view class="header">
    <!-- хПкф┐ЭчХЩцЧецЬЯчнЫщАЙхЩия╝МхПкхЬих╖▓чЩ╗х╜Хцибх╝Пф╕ЛцШ╛чд║ -->
    <view class="filters" wx:if="{{!isAnonymousMode}}">
      <view class="date-filter">
        <picker mode="date" value="{{startDate}}" start="2020-01-01" end="{{today}}" bindchange="onStartDateChange">
          <view class="date-picker">ф╗О: {{startDate}}</view>
        </picker>
        <picker mode="date" value="{{endDate}}" start="{{startDate}}" end="{{today}}" bindchange="onEndDateChange">
          <view class="date-picker">шЗ│: {{endDate}}</view>
        </picker>
      </view>
    </view>
  </view>
  
  <!-- шо░х╜ХхИЧшби -->
  <view class="record-list" wx:if="{{records && records.length > 0}}">
    <view class="record-item" wx:for="{{records}}" wx:key="id" bindtap="viewRecordDetail" data-id="{{item.id}}">
      <view class="record-icon">
        <image src="{{item.typeIcon}}" mode="aspectFit" class="type-icon"></image>
      </view>
      <view class="record-content">
        <view class="record-header">
          <!-- ф┐оцФ╣цЧ╢щЧ┤цШ╛чд║я╝Мф╜┐хЕ╢цШ╛чд║хоМцХ┤чЪДшо░х╜ХцЧецЬЯ -->
          <view class="record-time">{{item.recordTimeFormatted}}</view>
        </view>
      </view>
      
      <view class="record-actions">
        <!-- хЬихИащЩдцМЙщТоф╕Кц╖╗хКа"хИащЩд"цЦЗхнЧ -->
        <button class="action-btn delete-btn" style="background-color: #f44336; color: white;" catchtap="onDeleteRecord" data-id="{{item.id}}">
          <image src="/assets/icons/delete.png" mode="aspectFit" class="action-icon"></image>
          <text class="delete-text">хИащЩд</text>
        </button>
      </view>
    </view>
    
    <!-- хКаш╜╜цЫ┤хдЪ -->
    <view class="load-more" wx:if="{{hasMore && !isAnonymousMode}}">
      <button class="load-more-btn" bindtap="loadMoreRecords" loading="{{loading}}">хКаш╜╜цЫ┤хдЪ</button>
    </view>
  </view>
  
  <!-- цЧашо░х╜ХчК╢цАБ -->
  <view class="empty-state" wx:if="{{!loading && records.length === 0 && !isAnonymousMode}}">
    <view class="empty-image">ЁЯУЛ</view>
    <view class="empty-text">цВиш┐Шц▓бцЬЙц╖╗хКахБех║╖шо░х╜Х</view>
    <button class="btn-primary" bindtap="navigateToAdd">ц╖╗хКахБех║╖шо░х╜Х</button>
  </view>
  
  <!-- хМ┐хРНцибх╝Пчй║чК╢цАБ -->
  <view class="empty-state" wx:if="{{!loading && records.length === 0 && isAnonymousMode}}">
    <view class="empty-image">ЁЯУЛ</view>
    <view class="empty-text">цВиш┐Шц▓бцЬЙц╖╗хКахБех║╖шо░х╜Х</view>
    <button class="btn-primary" bindtap="navigateToAdd">ц╖╗хКахБех║╖шо░х╜Х</button>
  </view>
  
  <!-- хКаш╜╜чК╢цАБ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <view class="loading-text">хКаш╜╜ф╕н...</view>
  </view>
</view> 